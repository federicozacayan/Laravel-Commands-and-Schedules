[[1581055470588,"h1","Laravel Commands and Schedules"],[1581055470401,"html","php artisan make:command DeleteOldMessages"],[1581055470210,"p","app/Console/Commands/DeleteOldMessages.php"],[1581055470036,"javascript","<?php\nnamespace App\\Console\\Commands;\nuse Illuminate\\Console\\Command;\n...\nclass DeleteOldMessages extends Command\n{\n    protected $signature = 'command:deleteOldMessages';\n    protected $description = 'Delete messages older than 10 minutes';\n    public function __construct()\n    {\n        parent::__construct();\n    }\n    public function handle()\n    {\n        $messaeges = Messages::where(\n            'created_at', '<', Carbon::now()->sumMinutes(10)\n        )->delete();\n        echo \"Deleted messages\\n\";\n    }\n}"],[1581056129301,"p","You can tested writing in the console."],[1581056129490,"html","php artisan command:deleteOldMessages"],[1581055469870,"p","app/Console/Kernel.php file."],[1581055469688,"javascript","<?php\nnamespace App\\Console;\nuse Illuminate\\Console\\Scheduling\\Schedule;\nuse Illuminate\\Foundation\\Console\\Kernel as ConsoleKernel;\nclass Kernel extends ConsoleKernel\n{\n    protected $commands = [];\n\n    protected function schedule(Schedule $schedule)\n    {\n        $schedule->command('command:deleteOldMessages') //Check it out\n                 ->everyMinute();\n    }\n    protected function commands()\n    {\n        $this->load(__DIR__.'/Commands');\n        require base_path('routes/console.php');\n    }\n}\n"],[1581055469514,"p","Then run the following comand."],[1581057398242,"html","php artisan schedule:run"],[1581055469256,"p","In this way we start a process that every minute delete older messages."]]